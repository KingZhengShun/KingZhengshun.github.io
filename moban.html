<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<!-- SEO  -->
		<meta name="keywords" content="" />
		<meta name="description" content="" />
		<meta name="author" content="" />
		<!-- 苹果专用 -->
		<meta name="apple-mobile-web-app-capable" content="yes" />
		<meta name="apple-mobile-web-app-status-bar-style" content="blank" />
		<meta name="format-detection" content="telephone=no" />
		<!-- 简单移动端适配 -->
		<meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=no" />
		<!-- 图标 -->
		<link rel="shortcut icon" href="">

		<link rel="stylesheet" href="layui/css/layui.css">

		<style type="text/css">
			*{margin: 0;padding: 0;border: 0;}
			table{border: 1px solid #000}
			table td{border: 1px solid #000;padding: 0;margin: 0}
			.layui-layer-page{position: relative}
			.dh_pic{width: 100%;height: auto;padding-top: 20px;transform: rotate(0);}
			.dh_pic img{display: block;margin: auto;height: auto;}
			.xuanzhuan{width: 100px;height: 40px;margin:10px;background: #f5f5f5;line-height: 40px;text-align: center;position: absolute;bottom: 3%;z-index: 1}
			.xz1{left: 20%}
			.xz2{left: 40%}
			.xz3{left: 60%}
		</style>

		<title>HTML模板</title>
	</head>
	<body>
	<h2 style="margin: 20px auto;text-align: center;">三门县有图片无信息数据统计表</h2>
	<hr>
	<table class='layui-table' lay-size='sm' style='max-width: 1200px;margin: auto;'>
	</table>
	</body>
	<script src="https://cdn.staticfile.org/jquery/1.10.2/jquery.min.js"></script>
	<script src="layui/layui.js"></script>
	<script>
		var data=[
			{"PLATE_NO":"天台000003","NON_MOTOR_PIC":"rfid/archivefile1-2018-08-11-065703-A8DAA5140514A8C0:1525420032/234549.jpg","NON_MOTOR_PIC":"rfid/archivefile1-2018-08-11-065703-A8DAA5140514A8C0:1525420032/234549.jpg","RFID_INSTA_PIC":"rfid/archivefile1-2018-08-11-065703-A8DAA5140514A8C0:1546924032/237331.jpg","COMMITMENT_PIC":"rfid/archivefile1-2018-08-11-065703-A8DAA5140514A8C0:1537794048/256619.jpg"},
			{"PLATE_NO":"天台000072","NON_MOTOR_PIC":"rfid/archivefile1-2018-09-13-145748-BD4BF0610514A8C0:2995642368/262957.jpg","NON_MOTOR_PIC":"rfid/archivefile1-2018-09-13-145748-BD4BF0610514A8C0:2995642368/262957.jpg","RFID_INSTA_PIC":"rfid/archivefile1-2018-09-13-145905-EB0386880514A8C0:1056509952/240745.jpg","COMMITMENT_PIC":"rfid/archivefile1-2018-09-13-145905-EB0386880514A8C0:1046470656/238881.jpg"},
		];
		creatTable(data);
		function creatTable(data){
			//这个函数的参数可以是从后台传过来的也可以是从其他任何地方传过来的
			//这里我假设这个data是一个长度为5的字符串数组 我要把他放在表格的一行里面，分成五列
			var tableData="<colgroup><col width='150'></colgroup><thead><tr><th>昵称</th><th>加入时间</th></tr></thead><tbody>";
			//动态增加5个td,并且把data数组的五个值赋给每个td
			for(var i=0;i<data.length;i++){
				tableData+="<tr>"
				var value=data[i];
				tableData+="<td class='sm_td1'>"+value.PLATE_NO+"</td>"
				tableData+="<td class='sm_td2'>"+value.COMMITMENT_PIC+"</td>"
				tableData+="</tr>"
			}
			tableData+="</tbody>";
			//现在tableData已经生成好了，把他赋值给上面的tbody
			$(".layui-table").html(tableData);
		}

		//弹出一个页面层
		$('.sm_td2').on('click', function(e){

			layui.use('layer', function(){
				var layer = layui.layer;
				var val=0;
				console.log(e.target.innerText);
				layer.open({
					type: 1,
					area: ['1000px', '800px'],
					shadeClose: true, //点击遮罩关闭
					content: '<div class="dh_pic"><img class="dh_pic_img" src="http://111.1.25.110:8810/itc/home_home.action/itc/dw/dwPicOutPut_getPicOutPut.action?picPath='+e.target.innerText+'&picStorage=tzga&rfidType=1"></div>',
					btn:['旋转','放大','缩小'],
					yes: function(index, layero){
						//按钮【按钮一】的回调
						val+=90;
						$('.dh_pic').css("transform","rotate("+val+"deg)");
					}
					,btn2: function(index, layero){
						//按钮【按钮二】的回调
						$('.dh_pic_img').css({
							width: function(index, value) {
								return parseFloat(value) * 1.2;
							},
							height: function(index, value) {
								return parseFloat(value) * 1.3;
							}
						});
						//开启该代码可禁止点击该按钮关闭
						return false;
					}
					,btn3: function(index, layero){
						//按钮【按钮三】的回调
						$('.dh_pic_img').css({
							width: function(index, value) {
								return parseFloat(value) * 0.8;
							},
							height: function(index, value) {
								return parseFloat(value) * 0.7;
							}
						});
						//开启该代码可禁止点击该按钮关闭
						return false;
					}
				});
			});
		});
	</script>
</html>